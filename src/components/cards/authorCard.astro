---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import Github from "@/assets/svgs/github.astro";
import Search from "@/assets/svgs/search-01.astro";

type Props = {
  author: CollectionEntry<"authors">;
};

const { author } = Astro.props;
---

<li class="group relative isolate mx-auto w-full">
  {
    author.data.avatarUrl ? (
      <img
        class="w-320 aspect-square max-w-full object-cover filter grayscale group-hover:grayscale-0 rounded-md"
        src={author.data.avatarUrl}
        alt={author.data.name}
        loading="lazy"
        width={320}
        height={320}
      />
    ) : author.data.avatar ? (
      <Image
        class="w-320 aspect-square max-w-full object-cover filter grayscale group-hover:grayscale-0 rounded-md"
        src={author.data.avatar}
        alt={author.data.name}
        layout="constrained"
        loading={"lazy"}
        width={320}
        height={320}
      />
    ) : (
      <div class="w-320 aspect-square max-w-full rounded-md bg-base-200" />
    )
  }
  <div class="flex flex-col gap-0.5 mt-2">
    <h3 class="text-base font-semibold group-hover:underline">
      <a href={`/authors/${author.id}`}>
        <span class="absolute inset-0 z-10 pointer-events-none"></span>
        {author.data.name}
      </a>
    </h3>
    <p class="text-sm text-primary dark:text-secondary">{author.data.job}</p>

    <!-- Social Links for Muhammad Fiaz -->
    {
      author.id === "muhammadfiaz" && (
        <div class="flex gap-2 mt-2">
          <a
            href="https://muhammadfiaz.com"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-base-200 hover:bg-base-300 transition-colors"
            title="Website"
          >
            <Search size="14" />
          </a>
          <a
            href="https://github.com/muhammad-fiaz"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-base-200 hover:bg-base-300 transition-colors"
            title="GitHub"
          >
            <Github size="14" />
          </a>
        </div>
      )
    }
  </div>
</li>
